{% extends "src/templates/layouts/component-page.njk" %}

{# SET THE COMPONENT STATUS #}
{% set component_status = "Available" %}
{% set body_class="docsite-documentation-page--with-tabs"%}

{##
 # TITLE
 #}
{% block page__title %}
  {% filter markdown %}
    ##### Components
    # Field Key

    A Field Key describes the fields in a <eds-link eds-href="/components/form/form.html">Form</eds-link> that are required.
  {% endfilter %}
{% endblock %}

{##
 # Examples Tab
 #}
{% block examples_tab %}
  {% filter markdown %}
    ## Most fields required
    - This is the component's default setting.
    - Additionally set all applicable <eds-link eds-href="/components/label/label.html">Labels</eds-link> to indicate that they are describing optional fields.
    - Additionally set all applicable <eds-link eds-href="/components/field-group/field-group.html">Field Group</eds-link> components (e.g., <eds-link eds-href="/components/input/input.html">Inputs</eds-link>) to indicate that they are required.


  {% endfilter %}
  {{ library.eds_code_example_pair(
      example = '<eds-form eds-dense eds-novalidate eds-id="field-key-example-1">
      <eds-field-key></eds-field-key>
      <eds-field-group>
        <eds-label eds-for="label-1a">Label 1</eds-label>
        <eds-input eds-id="label-1a" eds-required></eds-input>
    </eds-field-group>

    <eds-field-group>
        <eds-label eds-indicator="optional" eds-for="label-1a">Label 2</eds-label>
        <eds-input eds-id="label-1b"></eds-input>
    </eds-field-group>

    <eds-field-group>
        <eds-label eds-for="label-1c">Label 3</eds-label>
        <eds-input eds-id="label-1c" eds-required></eds-input>
    </eds-field-group>
  </eds-form>'
  )}}

  {% filter markdown %}
    ## All fields required
    - No additional settings need to be applied to <eds-link eds-href="/components/label/label.html">Label</eds-link>.
    - Additionally set all applicable <eds-link eds-href="/components/field-group/field-group.html">Field Group</eds-link> components (e.g., <eds-link eds-href="/components/input/input.html">Inputs</eds-link>) to indicate that they are required.
    {% endfilter %}
  {{ library.eds_code_example_pair(
      example = '<eds-form eds-dense eds-novalidate eds-id="field-key-example-2">
      <eds-field-key eds-fields-required="all"></eds-field-key>
      <eds-field-group>
        <eds-label eds-for="label-2a">Label 1</eds-label>
        <eds-input eds-id="label-2a" eds-required></eds-input>
    </eds-field-group>

    <eds-field-group>
        <eds-label eds-for="label-2b">Label 2</eds-label>
        <eds-input eds-id="label-2b" eds-required></eds-input>
    </eds-field-group>

    <eds-field-group>
        <eds-label eds-for="label-2c">Label 3</eds-label>
        <eds-input eds-id="label-2c" eds-required></eds-input>
    </eds-field-group>
  </eds-form>'
  )}}

  {% filter markdown %}
    ## Some fields required
    - Use this variant when only a few fields in the <eds-link eds-href="/components/form/form.html">Form</eds-link> are required.
    - Additionally set all applicable <eds-link eds-href="/components/label/label.html">Labels</eds-link> to indicate that they are describing required fields.
    - Additionally set all applicable <eds-link eds-href="/components/field-group/field-group.html">Field Group</eds-link> components (e.g., <eds-link eds-href="/components/input/input.html">Inputs</eds-link>) to indicate that they are required.
    {% endfilter %}
  {{ library.eds_code_example_pair(
      example = '<eds-form eds-dense eds-novalidate eds-id="field-key-example-3">
      <eds-field-key eds-fields-required="some"></eds-field-key>
      <eds-field-group>
        <eds-label eds-for="label-3a">Label 1</eds-label>
        <eds-input eds-id="label-3a"></eds-input>
    </eds-field-group>

    <eds-field-group>
        <eds-label eds-for="label-3b" eds-indicator="required">Label 2</eds-label>
        <eds-input eds-id="label-3b" eds-required></eds-input>
    </eds-field-group>

    <eds-field-group>
        <eds-label eds-for="label-3c">Label 3</eds-label>
        <eds-input eds-id="label-3c"></eds-input>
    </eds-field-group>
  </eds-form>'
  )}}
{% endblock %}


{##
 # Design Tab
 #}
{% block design_tab %}
  {% filter markdown %}
    ## Use when
    A descriptor is needed at the top of a <eds-link eds-href="/components/form/form.html">Form</eds-link> to explicitly state:
    - When <em>most</em> fields are required.
    -	When <em>all</em> fields are required.
    -	When only <em>some</em> fields are required.

    ## Don't use
    - When he requirement of data entry into a <eds-link eds-href="/components/form/form.html">Form</eds-link> is understood to be true. (e.g., A sign-in <eds-link eds-href="/components/form/form.html">Form</eds-link> consisting of "Username" and "Password" fields.)
    - As a means to automatically set "required" or "optional" annotations on the <eds-link eds-href="/components/label/label.html">Label</eds-link>. Additional attributes must be set directly to the Label component.
    - As a means to automatically provide validation or set error states within the <eds-link eds-href="/components/form/form.html">Form</eds-link>. Additional attributes must be set directly to the appropriate components within the <eds-link eds-href="/components/field-group/field-group.html">Field Group</eds-link>.

    ## Placement
    - Include as the first component in a <eds-link eds-href="/components/form/form.html">Form</eds-link>.
    -	Include on each page of a multi-page <eds-link eds-href="/components/form/form.html">Form</eds-link>.
    -	In a multi-page <eds-link eds-href="/components/form/form.html">Form</eds-link>, always present the Field Key variant that speaks to the entire <eds-link eds-href="/components/form/form.html">Form</eds-link>, not just a particular page.
  {% endfilter %}

    {% set field_key_anatomy_caption %}
      <ol class="eds-figure__figcaption-inline-list">
        <li>Field Key</li>
        <li>Field Group</li>
        <li>Form Actions</li>
      </ol>
    {% endset %}

    {{ library.eds_figure(
        srcset="
            ../images/field-key/doc-field-key-in-form.png,
            ../images/field-key/doc-field-key-in-form@2x.png 2x
        ",
        alt="A diagram showing where Field Key is positioned relative to other form components.",
        width="full",
        border=true,
        padding="one-and-half-x",
        background=false,
        label="",
        caption=field_key_anatomy_caption,
        sentiment="neutral"
        )
    }}

  {% filter markdown%}
    ## Behavior
    - The component will occupy 100% of its parent container.
    - The text will wrap if necessary.
  {% endfilter %}
{% endblock %}

{##
 # Code Tab
 #}
{% block code_tab %}
    {% filter markdown %}
    ## Installation
    {% include "src/templates/partials/integration.njk" %}

    ## Attributes
    {% include "src/templates/partials/jsProps.njk" %}

    | Attribute             | Type   | Validation               | Default | Description                                                                                                                                                                                                                                                                                                                                                                                 |
    | --------------------- | ------ | ------------------------ | ------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | `eds-fields-required` | string | `some`, `most`, `all` | `most`  | Displays the default message based on the number of required fields throughout a <eds-link eds-href="/components/form/form.html">Form</eds-link>.<br><br>`some` = * Required field<br><br>`most` = All fields are required unless otherwise noted.<br><br>`all` = All fields are required.<br><br>Note: setting a value of `some` will add the asterisk character to the front of the element. |
    | `eds-text`            | string | --                       | --      | Overwrites the built-in Field Key messages with a provided string.  Useful for international implementations where the instructions are in a language other than English.<br><br>In order to include the asterisk character with your custom message, set the `eds-fields-required` value to `some`.                                                                                        |
    | `eds-a11y-text`       | string | --                       | --      | Overwrites the built-in accessibility messages that are hidden from view but available to screen readers.                                                                                                                                                                                                                                                                                   |

    ## Events
    The Field Key component does not emit any custom events.

    ## Methods
    The Field Key component does not implement any public methods.

    ## CSS modifier classes
    {% endfilter %}
    {% include "src/templates/partials/cssModifiers.njk" %}
    {% filter markdown %}
    | Class name                  | Applies to                  | Outcome                                                                                                                |
    | --------------------------- | --------------------------- | ---------------------------------------------------------------------------------------------------------------------- |
    | `.eds-fields-required-some` | `.eds-fields-required-root` | Adds the "asterisk" character in front of the element to demonstrate how labels will be visually marked as "required." |

  {% endfilter %}

  {# NAMESPACING #}

  {% set namespace_example_wc %}
      <eds3-field-key></eds3-field-key>
  {% endset %}

  {% set namespace_example_html %}
      <div class="eds3-field-key-root eds-field-key--fields-required-most">...</div>
  {% endset %}

  {{ library.namespacing(component_name="Field Key", root_class="field-key-root", namespace_example_wc=namespace_example_wc, namespace_example_html=namespace_example_html) }}

  {# IMPORT REFERENCE #}

  {% set js_import_table %}
| Import                                                         | Required            |
| -------------------------------------------------------------- | ------------------- |
| `import { edsFieldKey } from '@xyz-ap153177/apex-kit';`      | Yes                 |
  {% endset %}

  {{ library.import_reference(component_name="Field Key", js_import_table=js_import_table) }}

{% endblock %}

{##
 # A11y Tab
 #}
{% block a11y_tab %}
  {% filter markdown %}
  ## Message override
    Use the `eds-text` attribute to override the standard message, like when providing an international language translation.
  {% endfilter %}

  {{ library.eds_code_example_pair(
      example = '<eds-field-key eds-fields-required="some" eds-text="Uwanja unaohitajika" eds-a11y-text="Sehemu zingine zinahitajika"></eds-field-key>'
  )}}

  {% filter markdown %}
  ## Screen-reader-only text
  Always use the `eds-a11y-text` attribute to augment `eds-text` with a screen-reader-only equivalent in cases where it needs to differ.
  {% endfilter %}
{% endblock %}
